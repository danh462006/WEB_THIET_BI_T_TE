<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th√¥ng Tin C√¥ng Ty - ƒê·ª©c Ph∆∞∆°ng Medical</title>
    <link rel="icon" type="image/png" href="hinh-anh/logo-favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="category-style.css">
    <link rel="stylesheet" href="profile-modal.css">
    <link rel="stylesheet" href="mobile-responsive.css">
    <script src="auth-redirect.js"></script>
    <script src="profile-modal.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        .info-container {
            width: 100%;
            margin: 0;
            padding: 20px;
            background-image: url('hinh-thongtin/nen-thongtin.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 400px;
        }
        .info-layout {
            display: flex;
            gap: 30px;
            align-items: flex-start;
            max-width: 1200px;
            margin: 0 auto;
        }
        .info-left {
            flex: 1;
        }
        .info-left img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .info-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 12px;
        }
        .info-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 14px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            text-decoration: none;
            cursor: pointer;
            border: 1px solid #e5e7eb;
            background: #0d6efd;
            color: #fff;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            transition: transform 0.1s ease, box-shadow 0.2s ease;
        }
        .info-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 10px rgba(0,0,0,0.12); }
        .info-btn.outline { background: #fff; color: #111827; border: 1px solid #e5e7eb; }
        .info-btn svg { margin-right: 8px; }
        .info-right {
            flex: 0.7;
        }
        .info-right img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .intro-section-container {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 20px auto;
            background-color: #f9f9f9;
            border-radius: 10px;
        }
        .intro-section-flex {
            display: flex;
            align-items: center;
            gap: 40px;
        }
        .intro-text {
            flex: 2;
        }
        .intro-text h3 {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
            padding-bottom: 15px;
            border-bottom: 2px solid #aceaae;
        }
        .intro-text p {
            font-size: 18px;
            line-height: 1.8;
            color: #34495e;
            margin: 0 0 15px 0;
        }
        .intro-image {
            flex: 1;
            text-align: center;
        }
        .intro-image img {
            max-width: 220px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .intro-image img:hover {
            transform: scale(1.05);
        }

        .section-divider {
            display: flex;
            align-items: center;
            text-align: center;
            margin: 40px 20px;
            color: #2c3e50;
        }
        .section-divider span {
            font-size: 22px;
            font-weight: 600;
            padding: 0 20px;
            text-transform: uppercase;
        }
        .section-divider::before,
                .section-divider::after {
                    content: '';
                    flex: 1;
                    border-bottom: 3px solid #aceaae;
                }
        
                        .product-card-container {
                            display: flex;
                            justify-content: flex-start;
                            padding: 0px 20px;
                        }
        
                        .product-card-container-reversed {
                            display: flex;
                            justify-content: flex-end;
                            padding: 0px 20px;
                        }
        
                                .product-card {
                                    width: 50%;                    display: flex;
                    background-color: #fff;
                    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
                    border-radius: 10px;
                    border-top-right-radius: 150px;
                    border-bottom-right-radius: 150px;
                    overflow: hidden;
                    transition: transform 0.3s ease;
                }
        
                                .product-card-reversed {
                                    width: 50%;
                                    display: flex;
                                    background-color: #fff;
                                    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
                                    border-radius: 10px;
                                    border-top-left-radius: 150px;
                                    border-bottom-left-radius: 150px;
                                    overflow: hidden;
                                    transition: transform 0.3s ease;
                                }
        
                .product-card:hover, .product-card-reversed:hover {
                    transform: translateY(-5px);
                }
        
                        .product-card-text {
                            flex: 3;
                            padding: 30px;
                        }                .product-card-text h3 {
                    font-size: 22px;
                    color: #2c3e50;
                    margin-top: 0;
                }
                .product-card-text ul {
                    list-style: none;
                    padding-left: 0;
                }
                .product-card-text p {
                    line-height: 1.8;
                    margin-bottom: 15px;
                }
                .product-card-text li {
                    margin-bottom: 10px;
                    line-height: 1.6;
                }
                .product-card-image {
                    flex: 1;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                .product-card-image img {
                    width: 100%;
                    height: 100%;
                    object-fit: contain;
                }

                .product-card-reversed .product-card-image img {
                    transform: translateX(20px);
                }
        
                @media (max-width: 992px) {
                    .product-card, .product-card-reversed {
                        width: 80%;
                    }
                }   
        
                @media (max-width: 768px) {
                    .product-card-container, .product-card-container-reversed {
                        justify-content: center;
                    }
                    .product-card, .product-card-reversed {
                        width: 100%;
                        flex-direction: column;
                        border-radius: 20px;
                    }
                    .product-card-image {
                        order: -1;
                        min-height: 200px;
                    }
                    .product-card-reversed .product-card-image img {
                        transform: none;
                    }

                    /* Animation cho Mobile Menu */
                    @keyframes slideUpMenu {
                        from { opacity: 0; transform: translateY(20px); }
                        to { opacity: 1; transform: translateY(0); }
                    }

                    .dropdown.mobile-menu-active .dropdown-content {
                        display: block;
                        animation: slideUpMenu 0.3s ease forwards;
                        /* ƒê·∫£m b·∫£o menu ch·ªâ cao v·ª´a ƒë·ªß n·ªôi dung (ngay d∆∞·ªõi m·ª•c Tin t·ª©c) */
                        height: auto;
                        max-height: 70vh; /* Gi·ªõi h·∫°n chi·ªÅu cao n·∫øu danh s√°ch qu√° d√†i */
                        overflow-y: auto;
                    }
                    
                    /* Responsive overrides for Exhibition Section (4 slides) */
                    .exhibition-section .project-track {
                        width: 400% !important;
                    }
                    .exhibition-section .project-slide {
                        flex: 0 0 25% !important;
                        width: 25% !important;
                    }
                }
        
                @media (max-width: 768px) {
            .info-layout {
                flex-direction: column;
            }
            .intro-section-flex {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
        }
        
        /* Exhibition Section Styles (4 slides) */
        .exhibition-section .project-track {
            width: 400%;
        }
        .exhibition-section .project-slide {
            flex: 0 0 25%;
            width: 25%;
        }
        
        /* T·ªëi ∆∞u kho·∫£ng c√°ch cho ph·∫ßn tri·ªÉn l√£m v√† d·ª± √°n */
        .exhibition-section {
            padding: 10px 0 !important;
        }
        .exhibition-section h2 {
            margin-bottom: 10px !important;
            margin-top: 0 !important;
        }
        .exhibition-section .projects-form {
            padding-top: 10px !important;
            padding-bottom: 10px !important;
        }
        
        /* Factory Section Styles (3 slides) override exhibition-section 4 slides */
        #factory-section .project-track {
            width: 300% !important;
        }
        #factory-section .project-slide {
            flex: 0 0 33.333% !important;
            width: 33.333% !important;
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-content {
            animation: fadeInDown 0.4s ease-out;
        }
    </style>
</head>
<body>
    <!-- Profile Modal System -->
    <div id="profileModal" class="profile-modal" style="display: none;">
        <div class="profile-modal-content">
            <span class="profile-close" onclick="closeProfileModal()">&times;</span>
            <h2>Th√¥ng tin t√†i kho·∫£n</h2>
            <div class="profile-avatar-section">
                <img id="profileAvatar" src="hinh-anh/hinh-tk-macdinh.png" alt="Avatar" class="profile-avatar-img">
                <input type="file" id="avatarInput" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                <button class="profile-btn-secondary" onclick="document.getElementById('avatarInput').click()">Ch·ªânh s·ª≠a avatar</button>
            </div>
            <div class="profile-info-section">
                <div class="profile-field"><label>T√™n ng∆∞·ªùi d√πng:</label><input type="text" id="profileUsername" class="profile-input" readonly><button class="profile-btn-edit" onclick="enableEdit('profileUsername')">‚úèÔ∏è</button></div>
                <div class="profile-field"><label>S·ªë ƒëi·ªán tho·∫°i:</label><input type="text" id="profilePhone" class="profile-input" readonly><button class="profile-btn-change" onclick="openChangePhoneModal()">Thay ƒë·ªïi</button></div>
                <div class="profile-field"><label>Email:</label><input type="email" id="profileEmail" class="profile-input" readonly><button class="profile-btn-change" onclick="openChangeEmailModal()">Thay ƒë·ªïi</button></div>
                <div class="profile-field"><label>M·∫≠t kh·∫©u:</label><div style="position: relative;"><input type="password" id="profilePassword" class="profile-input" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" readonly><span onclick="togglePasswordVisibility()" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 20px;">üëÅÔ∏è</span></div><a href="#" class="profile-link-change" onclick="openChangePasswordModal(); return false;">Thay ƒë·ªïi m·∫≠t kh·∫©u</a></div>
                <div class="profile-field"><label>ƒê·ªãa ch·ªâ:</label><textarea id="profileAddress" class="profile-textarea" rows="3"></textarea></div>
                <button class="profile-btn-primary" onclick="saveProfileChanges()">L∆∞u thay ƒë·ªïi</button>
            </div>
        </div>
    </div>
    <div id="changePasswordModal" class="profile-modal" style="display: none;">
        <div class="profile-modal-content profile-modal-small">
            <span class="profile-close" onclick="closeChangePasswordModal()">&times;</span>
            <h3>Thay ƒë·ªïi m·∫≠t kh·∫©u</h3>
            <div class="profile-field"><label>M·∫≠t kh·∫©u c≈©:</label><input type="password" id="oldPassword" class="profile-input"></div>
            <div class="profile-field"><label>M·∫≠t kh·∫©u m·ªõi:</label><input type="password" id="newPassword" class="profile-input"></div>
            <div class="profile-field"><label>M√£ x√°c nh·∫≠n:</label><div style="display: flex; gap: 10px;"><input type="text" id="passwordVerifyCode" class="profile-input" style="flex: 1;"><button class="profile-btn-secondary" onclick="sendPasswordVerificationCode()">G·ª≠i m√£</button></div><small style="color: #666;">M√£ x√°c nh·∫≠n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n</small></div>
            <button class="profile-btn-primary" onclick="updatePassword()">C·∫≠p nh·∫≠t m·∫≠t kh·∫©u</button>
        </div>
    </div>
    <div id="changePhoneModal" class="profile-modal" style="display: none;">
        <div class="profile-modal-content profile-modal-small">
            <span class="profile-close" onclick="closeChangePhoneModal()">&times;</span>
            <h3>Thay ƒë·ªïi s·ªë ƒëi·ªán tho·∫°i</h3>
            <div class="profile-field"><label>S·ªë ƒëi·ªán tho·∫°i m·ªõi:</label><input type="text" id="newPhone" class="profile-input"></div>
            <div class="profile-field"><label>M√£ x√°c nh·∫≠n:</label><div style="display: flex; gap: 10px;"><input type="text" id="phoneVerifyCode" class="profile-input" style="flex: 1;"><button class="profile-btn-secondary" onclick="sendPhoneVerificationCode()">G·ª≠i m√£</button></div><small style="color: #666;">M√£ x√°c nh·∫≠n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn SƒêT m·ªõi</small></div>
            <button class="profile-btn-primary" onclick="updatePhone()">C·∫≠p nh·∫≠t SƒêT</button>
        </div>
    </div>
    <div id="changeEmailModal" class="profile-modal" style="display: none;">
        <div class="profile-modal-content profile-modal-small">
            <span class="profile-close" onclick="closeChangeEmailModal()">&times;</span>
            <h3>Thay ƒë·ªïi Email</h3>
            <div class="profile-field"><label>Email m·ªõi:</label><input type="email" id="newEmail" class="profile-input"></div>
            <div class="profile-field"><label>M√£ x√°c nh·∫≠n:</label><div style="display: flex; gap: 10px;"><input type="text" id="emailVerifyCode" class="profile-input" style="flex: 1;"><button class="profile-btn-secondary" onclick="sendEmailVerificationCode()">G·ª≠i m√£</button></div><small style="color: #666;">M√£ x√°c nh·∫≠n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email m·ªõi</small></div>
            <button class="profile-btn-primary" onclick="updateEmail()">C·∫≠p nh·∫≠t Email</button>
        </div>
    </div>

    <header class="header">
        <div class="container">
            <div class="logo-section">
                <img src="hinh-anh/logo.png" alt="TBYT ƒê·ª©c Ph∆∞∆°ng" class="logo">
            </div>
            
            <div class="search-section">
                <div class="search-box">
                    <input type="text" placeholder="T√¨m Ki·∫øm ..." class="search-input" autocomplete="off">
                    <button class="search-btn">üîç</button>
                </div>
                <div class="search-suggestions" id="searchSuggestions"></div>
            </div>
            
            <div class="user-section">
                <div class="account-dropdown">
                    <button class="account-btn" onclick="handleAccountClick(event)">
                        <img src="hinh-anh/icon_tk.png" alt="T√†i kho·∫£n" class="account-icon">
                    </button>
                    <div id="usernameDisplay" class="username-display" style="display: none;"></div>
                    <div class="account-menu" id="accountMenu" style="min-width: 150px; right: 0; left: auto;">
                        <a href="#" onclick="event.stopPropagation(); openProfileModal(); return false;">Th√¥ng tin t√†i kho·∫£n</a>
                        <a href="#">ƒê∆°n h√†ng c·ªßa t√¥i</a>
                        <a href="#" onclick="handleLogout(); return false;">ƒêƒÉng xu·∫•t</a>
                    </div>
                </div>
                <button class="cart-btn">üõí Gi·ªè h√†ng</button>
                <div class="dropdown">
                    <button class="dropdown-btn">üìã Danh m·ª•c ‚ñº</button>
                    <div class="dropdown-content">
                        <a href="index.html">Trang ch·ªß</a>
                        <div class="dropdown-item-with-submenu">
                            <a href="#" class="has-submenu">S·∫£n ph·∫©m</a>
                            <div class="submenu">
                                <div class="submenu-content">
                                    <div class="category-header">
                                        <h3>üî• G·ª£i √Ω cho b·∫°n</h3>
                                    </div>
                                    
                                    <div class="category-brands">
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-giuong.png" alt="Gi∆∞·ªùng" class="category-icon">Gi∆∞·ªùng</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-xelan.png" alt="Xe lƒÉn" class="category-icon">Xe lƒÉn</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-xedien.png" alt="Xe Scooter ƒëi·ªán" class="category-icon">Xe Scooter ƒëi·ªán</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-bangca.png" alt="BƒÉng ca" class="category-icon">BƒÉng ca</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-tu.png" alt="T·ªß" class="category-icon">T·ªß</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-maytaooxy.png" alt="M√°y t·∫°o oxy" class="category-icon">M√°y t·∫°o oxy</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-maydo.png" alt="M√°y ƒëo" class="category-icon">M√°y ƒëo</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-xong.png" alt="M√°y x√¥ng" class="category-icon">M√°y x√¥ng</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-mayhutdich.png" alt="M√°y h√∫t d·ªãch" class="category-icon">M√°y h√∫t d·ªãch</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-massage.png" alt="M√°y massage" class="category-icon">M√°y massage</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-maytap.png" alt="Thi·∫øt b·ªã t·∫≠p" class="category-icon">Thi·∫øt b·ªã t·∫≠p</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-nem.png" alt="N·ªám" class="category-icon">N·ªám</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-dungcuhotro.png" alt="D·ª•ng c·ª• h·ªó tr·ª£" class="category-icon">D·ª•ng c·ª• h·ªó tr·ª£</div>
                                        <div class="brand-item"><img src="icon-hinhdanhmuc/nhom-thietbiyte.png" alt="Thi·∫øt b·ªã y t·∫ø kh√°c" class="category-icon">Thi·∫øt b·ªã y t·∫ø kh√°c</div>
                                    </div>

                                    <div class="category-main">
                                        <div class="category-detail" id="categoryDetail">
                                            <p>Di chu·ªôt v√†o c√°c nh√≥m s·∫£n ph·∫©m ·ªü tr√™n ƒë·ªÉ xem chi ti·∫øt</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a href="thong-tin.html">Gi·ªõi thi·ªáu</a>
                        <a href="tin-tuc.html">Tin t·ª©c - Ki·∫øn th·ª©c</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="info-container reveal">
        <div class="info-layout">
            <div class="info-left">
                <img src="hinh-thongtin/congty.png" alt="H√¨nh c√¥ng ty">
                <div class="info-buttons">
                    <a class="info-btn" href="https://ducphuongmedical.com/thongtin/DucPhuong_Company_Profile.pdf" target="_blank" rel="noopener">
                        üìÑ Company Profile (PDF)
                    </a>
                    <a class="info-btn outline" href="https://ducphuongmedical.com/thongtin/DucPhuong_Catalogue_2026.pdf" target="_blank" rel="noopener">
                        üìö Catalogue 2026 (PDF)
                    </a>
                </div>
            </div>
            <div class="info-right">
                <img src="hinh-thongtin/thongtin-congty.png" alt="Th√¥ng tin c√¥ng ty">
            </div>
        </div>
    </div>

    <div class="intro-section-container reveal">
        <div class="intro-section-flex">
            <div class="intro-text">
                <h3>K√≠nh g·ª≠i Qu√Ω ƒê·ªëi t√°c v√† Kh√°ch h√†ng</h3>
                <p>
                    Tr∆∞·ªõc ti√™n, C√¥ng ty TNHH Thi·∫øt B·ªã Y T·∫ø ƒê·ª©c Ph∆∞∆°ng xin g·ª≠i ƒë·∫øn Qu√Ω v·ªã l·ªùi ch√†o tr√¢n tr·ªçng c√πng nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t v·ªÅ s·ª©c kh·ªèe v√† b√¨nh an.
                </p>
                <p>
                    Ch√∫ng t√¥i r·∫•t vinh d·ª± ƒë∆∞·ª£c gi·ªõi thi·ªáu ƒë√¥i n√©t v·ªÅ h√†nh tr√¨nh h√¨nh th√†nh, ph√°t tri·ªÉn c≈©ng nh∆∞ t·∫ßm nh√¨n v√† s·ª© m·ªánh m√† ƒê·ª©c Ph∆∞∆°ng ƒë√£ v√† ƒëang kh√¥ng ng·ª´ng theo ƒëu·ªïi trong su·ªët h∆°n m·ªôt th·∫≠p k·ª∑ qua.
                </p>
            </div>
            <div class="intro-image">
                <img src="hinh-anh/logo-favicon.png" alt="Logo ƒê·ª©c Ph∆∞∆°ng">
            </div>
        </div>
    </div>

    <div class="intro-section-container reveal">
        <div class="intro-section-flex">
            <div class="intro-text">
                <h3>Gi·ªõi thi·ªáu chung</h3>
                <p>
                    C√¥ng Ty TNHH Thi·∫øt B·ªã Y T·∫ø ƒê·ª©c Ph∆∞∆°ng, v·ªõi 13 nƒÉm kinh nghi·ªám, l√† m·ªôt trong nh·ªØng ƒë∆°n v·ªã uy t√≠n h√†ng ƒë·∫ßu t·∫°i Vi·ªát Nam trong lƒ©nh v·ª±c cung c·∫•p thi·∫øt b·ªã y t·∫ø, d·ª•ng c·ª• th·ªÉ thao v√† gi∆∞·ªùng b·ªánh nh√¢n ch·∫•t l∆∞·ª£ng cao.
                </p>
                <p>
                    V·ªõi n·ªÅn t·∫£ng chuy√™n m√¥n v·ªØng ch·∫Øc v√† s·ª± n·ªó l·ª±c kh√¥ng ng·ª´ng, ƒê·ª©c Ph∆∞∆°ng t·ª± h√†o mang ƒë·∫øn cho kh√°ch h√†ng nh·ªØng s·∫£n ph·∫©m ƒë√°ng tin c·∫≠y, g√≥p ph·∫ßn n√¢ng cao ch·∫•t l∆∞·ª£ng chƒÉm s√≥c s·ª©c kh·ªèe t·∫°i gia ƒë√¨nh, ph√≤ng kh√°m v√† b·ªánh vi·ªán.
                </p>
            </div>
            <div class="intro-image">
                <img src="hinh-anh/logo-Tajermy.png" alt="Logo Tajermy">
            </div>
        </div>
    </div>
    
    <div class="section-divider reveal">
        <span>Ng√†nh ngh·ªÅ kinh doanh</span>
    </div>

    <div class="product-card-container reveal">
        <div class="product-card">
            <div class="product-card-text">
                <h3>Thi·∫øt b·ªã y t·∫ø</h3>
                <p>Ch√∫ng t√¥i cung c·∫•p ƒëa d·∫°ng c√°c s·∫£n ph·∫©m y t·∫ø hi·ªán ƒë·∫°i, bao g·ªìm:</p>
                <ul>
                    <li>‚Äì M√°y t·∫°o oxy ch·∫•t l∆∞·ª£ng cao</li>
                    <li>‚Äì M√°y ƒëo huy·∫øt √°p, m√°y ƒëo ƒë∆∞·ªùng huy·∫øt</li>
                    <li>‚Äì M√°y x√¥ng kh√≠ dung v√† thi·∫øt b·ªã h·ªó tr·ª£ ƒëi·ªÅu tr·ªã h√¥ h·∫•p</li>
                </ul>
                <p>M·ªói s·∫£n ph·∫©m ƒë·ªÅu ƒë∆∞·ª£c tuy·ªÉn ch·ªçn t·ª´ c√°c nh√† cung c·∫•p uy t√≠n, ƒë·∫°t chu·∫©n an to√†n v√† mang l·∫°i hi·ªáu qu·∫£ ƒëi·ªÅu tr·ªã t·ªëi ∆∞u.</p>
            </div>
            <div class="product-card-image">
                <img src="hinh-anh/hinh-thietbi.png" alt="Thi·∫øt b·ªã y t·∫ø">
            </div>
        </div>
    </div>

    <div class="product-card-container-reversed reveal">
        <div class="product-card-reversed">
            <div class="product-card-image">
                <img src="hinh-anh/hinh-dung-cu-the-thao.png" alt="D·ª•ng c·ª• th·ªÉ thao">
            </div>
            <div class="product-card-text">
                <h3>D·ª•ng c·ª• th·ªÉ thao - chƒÉm s√≥c s·ª©c kh·ªèe</h3>
                <p>Ch√∫ng t√¥i cung c·∫•p ƒëa d·∫°ng c√°c thi·∫øt b·ªã th·ªÉ thao v√† chƒÉm s√≥c s·ª©c kh·ªèe, bao g·ªìm:</p>
                <ul>
                    <li>M√°y ch·∫°y b·ªô, xe ƒë·∫°p t·∫≠p, m√°y t·∫≠p ƒëa nƒÉng</li>
                    <li>Thi·∫øt b·ªã th∆∞ gi√£n, massage h·ªó tr·ª£ ph·ª•c h·ªìi th·ªÉ ch·∫•t</li>
                </ul>
                <p>Nh·ªØng s·∫£n ph·∫©m n√†y gi√∫p ng∆∞·ªùi d√πng n√¢ng cao s·ª©c kh·ªèe, c·∫£i thi·ªán th·ªÉ l·ª±c v√† duy tr√¨ l·ªëi s·ªëng l√†nh m·∫°nh.</p>
            </div>
        </div>
    </div>

    <div class="product-card-container reveal">
        <div class="product-card">
            <div class="product-card-text">
                <h3>Gi∆∞·ªùng b·ªánh nh√¢n</h3>
                <p>S·∫£n ph·∫©m gi∆∞·ªùng y t·∫ø l√† th·∫ø m·∫°nh c·ªßa ƒê·ª©c Ph∆∞∆°ng, g·ªìm:</p>
                <ul>
                    <li>Gi∆∞·ªùng b·ªánh nh√¢n ƒëi·ªÅu khi·ªÉn ƒëi·ªán</li>
                    <li>Gi∆∞·ªùng b·ªánh nh√¢n c∆° kh√≠</li>
                    <li>Gi∆∞·ªùng ƒëa ch·ª©c nƒÉng d√πng trong gia ƒë√¨nh v√† b·ªánh vi·ªán</li>
                </ul>
                <p>T·∫•t c·∫£ ƒë∆∞·ª£c thi·∫øt k·∫ø an to√†n, ch·∫Øc ch·∫Øn, h·ªó tr·ª£ t·ªëi ƒëa cho b·ªánh nh√¢n v√† nh√¢n vi√™n y t·∫ø trong qu√° tr√¨nh chƒÉm s√≥c.</p>
            </div>
            <div class="product-card-image">
                <img src="hinh-anh/hinh-giuong.png" alt="Gi∆∞·ªùng b·ªánh nh√¢n">
            </div>
        </div>
    </div>

    <div class="section-divider reveal">
        <span>C√°c tri·ªÉn l√£m v√† d·ª± √°n h·ª£p t√°c</span>
    </div>

    <section class="projects-section reveal exhibition-section" id="exhibition-section">
        <div class="container">
            <h2>C√ÅC TRI·ªÇN L√ÉM </h2>
            <div class="projects-form">
                <div class="projects-slideshow">
                    <div class="project-track" id="exhibitionTrack">
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam1.png', 'Tri·ªÉn l√£m 1')">
                                <img src="hinh-trien-lam/trien-lam1.png" alt="Tri·ªÉn l√£m 1">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam2.png', 'Tri·ªÉn l√£m 2')">
                                <img src="hinh-trien-lam/trien-lam2.png" alt="Tri·ªÉn l√£m 2">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam3.png', 'Tri·ªÉn l√£m 3')">
                                <img src="hinh-trien-lam/trien-lam3.png" alt="Tri·ªÉn l√£m 3">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam4.png', 'Tri·ªÉn l√£m 4')">
                                <img src="hinh-trien-lam/trien-lam4.png" alt="Tri·ªÉn l√£m 4">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam5.png', 'Tri·ªÉn l√£m 5')">
                                <img src="hinh-trien-lam/trien-lam5.png" alt="Tri·ªÉn l√£m 5">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam6.png', 'Tri·ªÉn l√£m 6')">
                                <img src="hinh-trien-lam/trien-lam6.png" alt="Tri·ªÉn l√£m 6">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam7.png', 'Tri·ªÉn l√£m 7')">
                                <img src="hinh-trien-lam/trien-lam7.png" alt="Tri·ªÉn l√£m 7">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-trien-lam/trien-lam8.png', 'Tri·ªÉn l√£m 8')">
                                <img src="hinh-trien-lam/trien-lam8.png" alt="Tri·ªÉn l√£m 8">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="project-nav-btn project-prev-btn" onclick="prevExhibitionSlide()">‚Äπ</button>
                <button type="button" class="project-nav-btn project-next-btn" onclick="nextExhibitionSlide()">‚Ä∫</button>
                <div class="project-indicators">
                    <span class="project-dot active" onclick="currentExhibitionSlide(1)"></span>
                    <span class="project-dot" onclick="currentExhibitionSlide(2)"></span>
                    <span class="project-dot" onclick="currentExhibitionSlide(3)"></span>
                    <span class="project-dot" onclick="currentExhibitionSlide(4)"></span>
                </div>
            </div>
        </div>
    </section>
    <section class="projects-section reveal exhibition-section" id="projects-section-info">
        <div class="container">
            <h2>D·ª∞ √ÅN </h2>
            <div class="projects-form">
                <div class="projects-slideshow">
                    <div class="project-track" id="projectTrackInfo">
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an1.png', 'D·ª± √°n 1')">
                                <img src="du-an/du-an1.png" alt="D·ª± √°n 1">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an2.png', 'D·ª± √°n 2')">
                                <img src="du-an/du-an2.png" alt="D·ª± √°n 2">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an3.png', 'D·ª± √°n 3')">
                                <img src="du-an/du-an3.png" alt="D·ª± √°n 3">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an4.png', 'D·ª± √°n 4')">
                                <img src="du-an/du-an4.png" alt="D·ª± √°n 4">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an5.png', 'D·ª± √°n 5')">
                                <img src="du-an/du-an5.png" alt="D·ª± √°n 5">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an6.png', 'D·ª± √°n 6')">
                                <img src="du-an/du-an6.png" alt="D·ª± √°n 6">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an7.png', 'D·ª± √°n 7')">
                                <img src="du-an/du-an7.png" alt="D·ª± √°n 7">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-du-an/du-an8.png', 'D·ª± √°n 8')">
                                <img src="du-an/du-an8.png" alt="D·ª± √°n 8">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="project-nav-btn project-prev-btn" onclick="prevProjectInfoSlide()">‚Äπ</button>
                <button type="button" class="project-nav-btn project-next-btn" onclick="nextProjectInfoSlide()">‚Ä∫</button>
                <div class="project-indicators">
                    <span class="project-dot active" onclick="currentProjectInfoSlide(1)"></span>
                    <span class="project-dot" onclick="currentProjectInfoSlide(2)"></span>
                    <span class="project-dot" onclick="currentProjectInfoSlide(3)"></span>
                    <span class="project-dot" onclick="currentProjectInfoSlide(4)"></span>
                </div>
            </div>
        </div>
    </section>
    <div class="section-divider reveal">
        <span>X∆∞∆°ng S·∫£n Xu·∫•t </span>
    </div>

    <section class="projects-section reveal exhibition-section" id="factory-section">
        <div class="container">
            <h2>X∆Ø·ªûNG S·∫¢N XU·∫§T</h2>
            <div class="projects-form">
                <div class="projects-slideshow">
                    <div class="project-track" id="factoryTrack">
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-xuong/hinh-xuong1.png', 'X∆∞·ªüng 1')">
                                <img src="hinh-xuong/hinh-xuong1.png" alt="X∆∞·ªüng 1">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-xuong/hinh-xuong2.png', 'X∆∞·ªüng 2')">
                                <img src="hinh-xuong/hinh-xuong2.png" alt="X∆∞·ªüng 2">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-xuong/hinh-xuong3.png', 'X∆∞·ªüng 3')">
                                <img src="hinh-xuong/hinh-xuong3.png" alt="X∆∞·ªüng 3">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-xuong/hinh-xuong4.png', 'X∆∞·ªüng 4')">
                                <img src="hinh-xuong/hinh-xuong4.png" alt="X∆∞·ªüng 4">
                            </div>
                        </div>
                        <div class="project-slide">
                            <div class="project-item" onclick="openCertModal('hinh-xuong/hinh-xuong5.png', 'X∆∞·ªüng 5')">
                                <img src="hinh-xuong/hinh-xuong5.png" alt="X∆∞·ªüng 5">
                            </div>
                            <div class="project-item" onclick="openCertModal('hinh-xuong/hinh-xuong6.png', 'X∆∞·ªüng 6')">
                                <img src="hinh-xuong/hinh-xuong6.png" alt="X∆∞·ªüng 6">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="project-nav-btn project-prev-btn" onclick="prevFactorySlide()">‚Äπ</button>
                <button type="button" class="project-nav-btn project-next-btn" onclick="nextFactorySlide()">‚Ä∫</button>
                <div class="project-indicators">
                    <span class="project-dot active" onclick="currentFactorySlide(1)"></span>
                    <span class="project-dot" onclick="currentFactorySlide(2)"></span>
                    <span class="project-dot" onclick="currentFactorySlide(3)"></span>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>H·ªó tr·ª£ kh√°ch h√†ng</h3>
                    <ul>
                        <li>Hotline: 0937 043 808</li>
                        <li>(8-21h k·ªÉ c·∫£ T7, CN)</li>
                        <li>ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</li>
                        <li>Ch√≠nh s√°ch ph·ª•c v·ª•</li>
                        <li>Ch√≠nh s√°ch ƒë·ªïi tr·∫£</li>
                        <li>Ch√≠nh s√°ch b·∫£o m·∫≠t</li>
                        <li>Ch√≠nh s√°ch v·∫≠n chuy·ªÉn</li>
                        <li>Ch√≠nh s√°ch thanh to√°n</li>
                        <li>Ch√≠nh s√°ch b·∫£o h√†nh</li>
                        <li>H·ªó tr·ª£ kh√°ch h√†ng: ducphuongmedical@gmail.com</li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>B·∫£n tin s·ª©c kh·ªèe</h3>
                    <ul>
                        <li>Tin t·ª©c v·ªÅ gi∆∞·ªùng b·ªánh nh√¢n</li>
                        <li>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng gi∆∞·ªùng b·ªánh</li>
                        <li>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng xe lƒÉn ƒëi·ªán</li>
                        <li>Tin t·ª©c v·ªÅ m√°y t·∫°o Oxy</li>
                        <li>Tin t·ª©c v·ªÅ Xe LƒÉn</li>
                    </ul>
                    

                </div>
                
                <div class="footer-column">
                    <h3>Ph∆∞∆°ng th·ª©c thanh to√°n</h3>
                    <div class="payment-methods">
                        <img src="hinh-thanhtoan/visa.png" alt="Visa">
                        <img src="hinh-thanhtoan/mastercard.png" alt="Mastercard">
                        <img src="hinh-thanhtoan/jcb.png" alt="JCB">
                        <img src="hinh-thanhtoan/momo.png" alt="MoMo">
                    </div>
                    
                    <h4>D·ªãch v·ª• giao h√†ng</h4>
                    <div class="delivery-services">
                        <img src="hinh-anh/giao-hang.png" alt="Giao h√†ng">
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h3>
                    <div class="social-links">
                        <a href="https://www.facebook.com/ducphuongnguyenphuoctay" target="_blank">
                            <img src="hinh-anh/fb-logo.png" alt="Facebook">
                        </a>
                        <a href="https://youtube.com/@ducphuongmedical" target="_blank">
                            <img src="hinh-anh/youtube-icon.png" alt="YouTube">
                        </a>
                        <a href="https://zalo.me/0938.062.808" target="_blank">
                            <img src="hinh-anh/icon-zalo.png" alt="Zalo">
                        </a>
                        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=ducphuongmedical@gmail.com" target="_blank">
                            <img src="hinh-anh/icon-gmail.png" alt="Gmail">
                        </a>
                    </div>
                    
                    <div class="certificates">
                        <h4>Ch·ª©ng nh·∫≠n b·ªüi</h4>
                        <div class="cert-logos">
                            <img src="hinh-anh/icon-ddk.png" alt="ƒê√£ ƒëƒÉng k√Ω">
                        </div>
                    </div>
                    

                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <div class="company-info">
                        <p>ƒê·ªãa ch·ªâ: 12 ƒê√¥ng H·ªì, Ph∆∞·ªùng 08, Qu·∫≠n T√¢n B√¨nh, TP.HCM</p>
                        <p>TaJerMy nh·∫≠n ƒë·∫∑t h√†ng tr·ª±c tuy·∫øn v√† giao h√†ng t·∫≠n n∆°i ho·∫∑c mua h√†ng tr·ª±c ti·∫øp t·∫°i c·ª≠a h√†ng</p>
                        <p>Gi·∫•y ch·ª©ng nh·∫≠n ƒêƒÉng k√Ω Kinh doanh s·ªë 0313717853 do S·ªü K·∫ø ho·∫°ch v√† ƒê·∫ßu t∆∞ Th√†nh ph·ªë H·ªì Ch√≠ Minh c·∫•p ng√†y 25/03/2016</p>
                        <p>&copy; 2022 - B·∫£n quy·ªÅn c·ªßa TaJerMy - www.ducphuongmedical.com. C·∫•m sao ch√©p d∆∞·ªõi m·ªçi h√¨nh th·ª©c n·∫øu kh√¥ng c√≥ s·ª± ch·∫•p thu·∫≠n b·∫±ng vƒÉn b·∫£n.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLoginForm()">&times;</span>
            <div class="login-container">
                <div class="login-header">
                    <div class="service-icons">
                        <div class="fpt-icon">TaJerMy</div>
                        <div class="arrow">‚Üí</div>
                        <div class="shop-icon">üõçÔ∏è</div>
                    </div>
                    <h2>T√†i kho·∫£n s·ª≠ d·ª•ng d·ªãch v·ª• <span class="fpt-logo">TaJerMy</span></h2>
                </div>
                
                <div class="login-form">
                    <!-- Step 1: Phone -->
                    <div id="loginStep1">
                        <label>T√™n ƒëƒÉng nh·∫≠p / S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
                        <input type="text" id="loginInput" placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p ho·∫∑c s·ªë ƒëi·ªán tho·∫°i" class="login-input">
                        <button class="continue-btn" onclick="handleLoginStep1()">Ti·∫øp t·ª•c</button>
                    </div>

                    <!-- Step 2: Password -->
                    <div id="loginStep2" style="display: none;">
                        <div class="login-header-step2"><button class="back-btn" onclick="backToStep1()">‚Üê</button> Nh·∫≠p m·∫≠t kh·∫©u</div>
                        <label>M·∫≠t kh·∫©u <span class="required">*</span></label>
                        <input type="password" id="loginPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" class="login-input">
                        <button class="continue-btn" onclick="handleLoginStep2()">ƒêƒÉng nh·∫≠p</button>
                    </div>

                    <!-- Register Step -->
                    <div id="registerStep" style="display: none;">
                        <div class="login-header-step2"><button class="back-btn" onclick="backToLogin()">‚Üê</button> ƒêƒÉng k√Ω t√†i kho·∫£n</div>
                        
                        <label>T√™n ƒëƒÉng nh·∫≠p <span class="required">*</span></label>
                        <input type="text" id="regUsername" class="login-input" placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p">
                        
                        <label>S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
                        <input type="text" id="regPhone" class="login-input" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i">
                        
                        <label>Email <span class="required">*</span></label>
                        <input type="email" id="regGmail" class="login-input" placeholder="Nh·∫≠p email">
                        
                        <label>M·∫≠t kh·∫©u <span class="required">*</span></label>
                        <div class="password-wrapper">
                            <input type="password" id="regPass" class="login-input" placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
                            <span class="password-toggle-icon" onclick="toggleRegisterPassword(this)">üëÅÔ∏è</span>
                        </div>
                        
                        <button class="continue-btn" onclick="handleRegister()">ƒêƒÉng k√Ω</button>
                        <div id="registerMessage" style="text-align: center; margin-top: 10px; font-weight: bold;"></div>
                    </div>

                    <p class="terms-text">
                        B·∫±ng c√°ch ti·∫øp t·ª•c, b·∫°n ƒë·ªìng √Ω v·ªõi 
                        <a href="#" class="link">ƒêi·ªÅu kho·∫£n</a> v√† 
                        <a href="#" class="link">Ch√≠nh s√°ch</a> b·∫£o m·∫≠t c·ªßa TaJerMy
                    </p>
                    
                    <div class="divider">
                        <span>Ho·∫∑c ƒëƒÉng nh·∫≠p b·∫±ng</span>
                    </div>      
                    <div class="social-login">
                        <button class="social-btn apple-btn" onclick="showRegisterForm()">ƒêƒÉng k√Ω</button>
                        <button class="social-btn google-btn">
                            <img src="hinh-anh/google-logo.png" alt="Google" class="google-icon">
                        </button>
                        <button class="social-btn facebook-btn">
                            <img src="hinh-anh/fb-logo.png" alt="Facebook" class="facebook-icon">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="phone-contact">
        <a href="tel:0938062808">
            <img src="hinh-anh/icon-dt.png" alt="ƒêi·ªán tho·∫°i">
        </a>
    </div>
    <div class="cskh-contact" onclick="toggleChat()">
        <img src="hinh-anh/icon-cskh.png" alt="CSKH">
    </div>
    <div class="zalo-contact">
        <a href="https://zalo.me/0938.062.808" target="_blank">
            <img src="hinh-anh/icon-zalo.png" alt="Zalo">
        </a>
    </div>
    <div class="youtube-contact">
        <a href="https://www.youtube.com/@ducphuongmedical" target="_blank">
            <img src="hinh-anh/youtube-icon.png" alt="YouTube">
        </a>
    </div>
    <div class="facebook-contact">
        <a href="https://www.facebook.com/ducphuongnguyenphuoctay" target="_blank">
            <img src="hinh-anh/fb-logo.png" alt="Facebook">
        </a>
    </div>
    
    <div class="chat-box" id="chatBox">
        <div class="chat-header">
            <span>H·ªó tr·ª£</span>
            <span class="close-chat" onclick="toggleChat()">&times;</span>
        </div>
        <div class="chat-content">
            <div class="chat-message bot">
                <p>Xin ch√†o! T√¥i c√≥ th·ªÉ gi√∫p g√¨?</p>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" placeholder="Nh·∫≠p tin nh·∫Øn...">
            <button>G·ª≠i</button>
        </div>
    </div>
    
    <!-- Certificate Modal -->
    <div id="certModal" class="cert-modal">
        <div class="cert-modal-content">
            <span class="cert-close" onclick="closeCertModal()">&times;</span>
            <img id="certModalImg" src="" alt="">
        </div>
    </div>

    <script>
        // Check session on load
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
        });

        let isLoggedIn = false;

        function checkLoginStatus() {
            fetch('/check_session.php')
                .then(response => response.json())
                .then(data => {
                    const accountDropdown = document.querySelector('.account-dropdown');
                    if (data.logged_in) {
                        isLoggedIn = true;
                        if (accountDropdown) accountDropdown.classList.add('logged-in');
                        
                        const usernameDisplay = document.getElementById('usernameDisplay');
                        if (usernameDisplay) {
                            usernameDisplay.innerText = data.username;
                            usernameDisplay.style.display = 'block';
                        }
                        // Hide login modal if open
                        closeLoginForm();
                    } else {
                        isLoggedIn = false;
                        if (accountDropdown) accountDropdown.classList.remove('logged-in');
                        
                        const usernameDisplay = document.getElementById('usernameDisplay');
                        if (usernameDisplay) {
                            usernameDisplay.style.display = 'none';
                        }
                    }
                })
                .catch(err => console.error('Session check failed', err));
        }

        function handleAccountClick(event) {
            event.stopPropagation(); // NgƒÉn event bubble l√™n c√°c ph·∫ßn t·ª≠ cha
            
            const accountMenu = document.getElementById('accountMenu');
            
            // Ki·ªÉm tra tr·∫°ng th√°i ƒëƒÉng nh·∫≠p
            if (!isLoggedIn) {
                // Ch∆∞a ƒëƒÉng nh·∫≠p ‚Üí hi·ªÉn th·ªã form ƒëƒÉng nh·∫≠p
                toggleLoginForm();
            } else {
                // ƒê√£ ƒëƒÉng nh·∫≠p ‚Üí toggle hi·ªÉn th·ªã menu
                if (accountMenu.style.display === 'block') {
                    accountMenu.style.display = 'none';
                } else {
                    accountMenu.style.display = 'block';
                }
            }
        }

        // ƒê√≥ng menu khi click ra ngo√†i
        document.addEventListener('click', function(event) {
            const accountDropdown = document.querySelector('.account-dropdown');
            const accountMenu = document.getElementById('accountMenu');
            
            if (accountDropdown && !accountDropdown.contains(event.target)) {
                accountMenu.style.display = 'none';
            }
        });

        function handleLoginStep1() {
            const inputVal = document.getElementById('loginInput').value;
            if (!inputVal) {
                alert('Vui l√≤ng nh·∫≠p t√™n ƒëƒÉng nh·∫≠p ho·∫∑c s·ªë ƒëi·ªán tho·∫°i!');
                return;
            }
            // Switch to step 2
            document.getElementById('loginStep1').style.display = 'none';
            document.getElementById('loginStep2').style.display = 'block';
        }

        function backToStep1() {
            document.getElementById('loginStep1').style.display = 'block';
            document.getElementById('loginStep2').style.display = 'none';
        }

        function handleLoginStep2() {
            const inputVal = document.getElementById('loginInput').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!password) {
                alert('Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u!');
                return;
            }

            fetch('login.php', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username: inputVal, password: password })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    // L∆∞u position v√†o localStorage
                    if (data.position) {
                        saveUserPosition(data.position);
                    }
                    
                    // Chuy·ªÉn h∆∞·ªõng tr·ª±c ti·∫øp kh√¥ng c·∫ßn th√¥ng b√°o
                    window.location.href = data.redirect;
                } else {
                    alert(data.message);
                }
            })
            .catch(error => console.error('Error:', error));
        }

        function handleLogout() {
            fetch('logout.php')
                .then(() => {
                    window.location.reload();
                });
        }

        function showRegisterForm() {
            document.getElementById('loginStep1').style.display = 'none';
            document.getElementById('loginStep2').style.display = 'none';
            document.querySelector('.terms-text').style.display = 'none';
            document.querySelector('.divider').style.display = 'none';
            document.querySelector('.social-login').style.display = 'none';
            document.getElementById('registerStep').style.display = 'block';
            document.getElementById('registerMessage').innerText = '';
            document.getElementById('regUsername').value = '';
            document.getElementById('regPhone').value = '';
            document.getElementById('regGmail').value = '';
            document.getElementById('regPass').value = '';
        }

        function backToLogin() {
            document.getElementById('registerStep').style.display = 'none';
            document.getElementById('loginStep1').style.display = 'block';
            document.querySelector('.terms-text').style.display = 'block';
            document.querySelector('.divider').style.display = 'block';
            document.querySelector('.social-login').style.display = 'flex';
        }

        function handleRegister() {
            const user = document.getElementById('regUsername').value;
            const phone = document.getElementById('regPhone').value;
            const gmail = document.getElementById('regGmail').value;
            const pass = document.getElementById('regPass').value;
            const msgDiv = document.getElementById('registerMessage');

            if (!user || !phone || !gmail || !pass) {
                msgDiv.style.color = 'red';
                msgDiv.innerText = 'Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!';
                return;
            }

            fetch('/register.php', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username: user, phone: phone, gmail: gmail, password: pass })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    msgDiv.style.color = '#4CAF50';
                    msgDiv.innerText = 'ƒêƒÉng k√Ω th√†nh c√¥ng!';
                } else {
                    msgDiv.style.color = 'red';
                    msgDiv.innerText = data.message;
                }
            })
            .catch(error => {
                console.error('Error:', error);
                msgDiv.style.color = 'red';
                msgDiv.innerText = 'C√≥ l·ªói x·∫£y ra, vui l√≤ng th·ª≠ l·∫°i.';
            });
        }

        function toggleRegisterPassword(btn) {
            const passwordInput = document.getElementById('regPass');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                btn.textContent = 'üôà';
            } else {
                passwordInput.type = 'password';
                btn.textContent = 'üëÅÔ∏è';
            }
        }

        function toggleLoginForm() {
            document.getElementById('loginModal').style.display = 'block';
            if (typeof backToLogin === 'function') backToLogin();
            if (typeof backToStep1 === 'function') backToStep1(); 
            if(document.getElementById('loginInput')) document.getElementById('loginInput').value = '';
            if(document.getElementById('loginPassword')) document.getElementById('loginPassword').value = '';
        }
        
        function closeLoginForm() {
            document.getElementById('loginModal').style.display = 'none';
        }
        
        window.onclick = function(event) {
            var modal = document.getElementById('loginModal');
            var certModal = document.getElementById('certModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
            if (event.target == certModal) {
                certModal.style.display = 'none';
            }
        }
        
        function toggleChat() {
            const chatBox = document.getElementById('chatBox');
            chatBox.style.display = chatBox.style.display === 'flex' ? 'none' : 'flex';
        }
        
        function openCertModal(imgSrc, altText) {
            const modal = document.getElementById('certModal');
            const modalImg = document.getElementById('certModalImg');
            modal.style.display = 'flex';
            modalImg.src = imgSrc;
            modalImg.alt = altText;
        }
        
        function closeCertModal() {
            document.getElementById('certModal').style.display = 'none';
        }
        
        const categoryData = {
            'Gi∆∞·ªùng': ['Gi∆∞·ªùng b·ªánh c∆° b·∫£n', 'Gi∆∞·ªùng chuy√™n d·ª•ng (ICU, s·∫£n khoa)', 'Gi∆∞·ªùng ƒëi·ªÅu ch·ªânh ƒë·ªô cao/ t∆∞ th·∫ø (gi∆∞·ªùng ƒëi·ªán)', 'Gi∆∞·ªùng chƒÉm s√≥c t·∫°i nh√†'],
            'Xe lƒÉn': ['Xe lƒÉn tay (ng∆∞·ªùi d√πng t·ª± ƒë·∫©y)', 'Xe lƒÉn ƒë·∫©y sau (ng∆∞·ªùi chƒÉm s√≥c ƒë·∫©y)', 'Xe lƒÉn ƒëi·ªán', 'Xe lƒÉn th·ªÉ thao', 'Xe lƒÉn g·∫•p g·ªçn/ di chuy·ªÉn', 'Xe lƒÉn l√™n xu·ªëng c·∫ßu thang'],
            'Xe Scooter ƒëi·ªán': ['Lo·∫°i di chuy·ªÉn trong nh√†/ ƒë∆∞·ªùng b·∫±ng ph·∫≥ng', 'Lo·∫°i ƒë·ªãa h√¨nh (b√°nh l·ªõn, ƒëi ƒë∆∞·ªùng d√†i)', 'Lo·∫°i g·∫•p g·ªçn/ th√°o r·ªùi'],
            'BƒÉng ca': ['BƒÉng ca c·∫•p c·ª©u (c·ªë ƒë·ªãnh)', 'BƒÉng ca ƒë·∫©y (c√≥ b√°nh xe)', 'BƒÉng ca g·∫•p (v·∫≠n chuy·ªÉn)', 'BƒÉng ca chuy√™n d·ª•ng (ch·ªëng s·ªëc, ch·ª•p X-Quang)', 'ƒê·ªám v·∫≠n chuy·ªÉn'],
            'T·ªß': ['T·ªß ƒë·ª±ng thu·ªëc', 'T·ªß ƒë·ª±ng h·ªì s∆° b·ªánh √°n', 'T·ªß tr∆∞ng b√†y/ l∆∞u tr·ªØ d·ª•ng c·ª•', 'T·ªß ƒë·∫ßu gi∆∞·ªùng b·ªánh'],
            'M√°y t·∫°o oxy': ['M√°y t·∫°o oxy t·∫°i nh√† (lo·∫°i l·ªõn)', 'M√°y t·∫°o oxy x√°ch tay/ di ƒë·ªông', 'M√°y t·∫°o oxy d√≤ng cao (cho tr·ªã li·ªáu ƒë·∫∑c bi·ªát)'],
            'M√°y ƒëo': ['M√°y ƒëo huy·∫øt √°p', 'M√°y ƒëo ƒë∆∞·ªùng huy·∫øt', 'M√°y ƒëo n·ªìng ƒë·ªô oxy trong m√°u (SpO2)', 'M√°y ƒëo th√¢n nhi·ªát', 'M√°y ƒëo tim (ECG di ƒë·ªông)', 'C√¢n s·ª©c kh·ªèe (c∆°/ ƒëi·ªán t·ª≠)'],
            'M√°y x√¥ng': ['M√°y x√¥ng kh√≠ dung ki·ªÉu n√©n', 'M√°y x√¥ng si√™u √¢m', 'M√°y x√¥ng m√†ng (mesh)'],
            'M√°y h√∫t d·ªãch': ['M√°y h√∫t d·ªãch ƒë·ªÉ b√†n/ c·ªë ƒë·ªãnh', 'M√°y h√∫t d·ªãch x√°ch tay/ di ƒë·ªông'],
            'M√°y massage': ['M√°y massage c·∫ßm tay (gi·∫£m ƒëau c∆°)', 'ƒêai/ gh·∫ø massage to√†n th√¢n', 'M√°y massage ch√¢n (xoa b√≥p, l∆∞u th√¥ng m√°u)', 'Thi·∫øt b·ªã massage tr·ªã li·ªáu (nh∆∞ s√≥ng si√™u √¢m, laser c·∫•p th·∫•p)'],
            'Thi·∫øt b·ªã t·∫≠p': ['Thi·∫øt b·ªã t·∫≠p v·∫≠n ƒë·ªông th·ª• ƒë·ªông (CPM)', 'Thi·∫øt b·ªã t·∫≠p ƒëi/ thƒÉng b·∫±ng', 'Thi·∫øt b·ªã t·∫≠p ph·ª•c h·ªìi ch·ª©c nƒÉng tay/ ch√¢n', 'M√°y t·∫≠p th·ªÉ d·ª•c chuy√™n bi·ªát (xe ƒë·∫°p, treadmill cho ph·ª•c h·ªìi)', 'D·ª•ng c·ª• t·∫≠p tr·ªã li·ªáu (b√≥ng, d√¢y kh√°ng l·ª±c, t·∫° tay nh·∫π)'],
            'N·ªám': ['N·ªám ch·ªëng lo√©t (h∆°i, x·ªëp, gel)', 'N·ªám b·ªánh vi·ªán ti√™u chu·∫©n', 'N·ªám n√¢ng ƒë·ª° c∆° th·ªÉ (memory foam, cao su)'],
            'D·ª•ng c·ª• h·ªó tr·ª£': ['H·ªó tr·ª£ di chuy·ªÉn (khung t·∫≠p ƒëi, g·∫≠y ch·ªëng, n·∫°ng)', 'H·ªó tr·ª£ v·ªá sinh (b√¥ v·ªá sinh, b·ªìn c·∫ßu n√¢ng)', 'H·ªó tr·ª£ t·∫Øm (gh·∫ø t·∫Øm, th·∫£m ch·ªëng tr∆∞·ª£t)', 'H·ªó tr·ª£ m·∫∑c qu·∫ßn √°o', 'H·ªó tr·ª£ ƒÉn u·ªëng (th√¨a, ƒë≈©a, tay c·∫ßm ch·ªânh)'],
            'Thi·∫øt b·ªã y t·∫ø kh√°c': ['ƒê√®n kh√°m b·ªánh', 'M√°y kh·ª≠ rung tim (AED)', 'B∆°m ti√™m ƒëi·ªán', 'H·ªôp ƒë·ª±ng d·ª•ng c·ª• v√¥ tr√πng', 'V√† r·∫•t nhi·ªÅu thi·∫øt b·ªã chuy√™n s√¢u kh√°c']
        };
        
        document.querySelectorAll('.submenu-content .brand-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const categoryName = this.textContent.trim();
                const categoryDetail = document.getElementById('categoryDetail');
                
                if (categoryData[categoryName] && categoryDetail) {
                    const items = categoryData[categoryName];
                    const itemsPerColumn = Math.ceil(items.length / 3);
                    
                    let columns = ['', '', ''];
                    items.forEach((item, index) => {
                        const columnIndex = Math.floor(index / itemsPerColumn);
                        columns[columnIndex] += `<li class="detail-item" data-group="${categoryName}" data-type="${item}">${item}</li>`;
                    });
                    
                    categoryDetail.innerHTML = `
                        <div class="detail-column">
                            <h4>${categoryName}</h4>
                            <ul>${columns[0]}</ul>
                        </div>
                        <div class="detail-column">
                            <ul>${columns[1]}</ul>
                        </div>
                        <div class="detail-column">
                            <ul>${columns[2]}</ul>
                        </div>
                    `;
                }
            });
        });

        // Desktop hover detail click-through
        const detailEl = document.getElementById('categoryDetail');
        if (detailEl) {
            detailEl.addEventListener('click', function(e) {
                const li = e.target.closest('.detail-item');
                if (!li) return;
                const group = li.getAttribute('data-group') || '';
                const type = li.getAttribute('data-type') || '';
                const url = `san-pham.html?groups=${encodeURIComponent(group)}&types=${encodeURIComponent(type)}`;
                window.location.href = url;
            });
        }

        // Unified Dropdown & Mobile Menu Logic
        document.addEventListener('DOMContentLoaded', function() {
            const dropdown = document.querySelector('.dropdown');
            if (!dropdown) return;

            const dropdownBtn = dropdown.querySelector('.dropdown-btn');
            const dropdownContent = dropdown.querySelector('.dropdown-content');
            
            // Store the original HTML of the main menu
            const originalMenuHTML = dropdownContent.innerHTML;

            // Data for building category views
            const categoryIcons = {
                'Gi∆∞·ªùng': 'icon-hinhdanhmuc/nhom-giuong.png',
                'Xe lƒÉn': 'icon-hinhdanhmuc/nhom-xelan.png',
                'Xe Scooter ƒëi·ªán': 'icon-hinhdanhmuc/nhom-xedien.png',
                'BƒÉng ca': 'icon-hinhdanhmuc/nhom-bangca.png',
                'T·ªß': 'icon-hinhdanhmuc/nhom-tu.png',
                'M√°y t·∫°o oxy': 'icon-hinhdanhmuc/nhom-maytaooxy.png',
                'M√°y ƒëo': 'icon-hinhdanhmuc/nhom-maydo.png',
                'M√°y x√¥ng': 'icon-hinhdanhmuc/nhom-xong.png',
                'M√°y h√∫t d·ªãch': 'icon-hinhdanhmuc/nhom-mayhutdich.png',
                'M√°y massage': 'icon-hinhdanhmuc/nhom-massage.png',
                'Thi·∫øt b·ªã t·∫≠p': 'icon-hinhdanhmuc/nhom-maytap.png',
                'N·ªám': 'icon-hinhdanhmuc/nhom-nem.png',
                'D·ª•ng c·ª• h·ªó tr·ª£': 'icon-hinhdanhmuc/nhom-dungcuhotro.png',
                'Thi·∫øt b·ªã y t·∫ø kh√°c': 'icon-hinhdanhmuc/nhom-thietbiyte.png'
            };

            // Function to generate the HTML for the product categories grid
            function createProductCategoryHTML() {
                let gridHTML = '<div class="mobile-category-grid">';
                Object.keys(categoryData).forEach(categoryName => {
                    const iconPath = categoryIcons[categoryName] || '';
                    gridHTML += `
                        <div class="mobile-category-item" data-category="${categoryName}">
                            <img src="${iconPath}" alt="${categoryName}" class="mobile-category-icon">
                            <span>${categoryName}</span>
                        </div>
                    `;
                });
                gridHTML += '</div>';

                return `
                    <div class="mobile-menu-header">
                        <button class="mobile-menu-back-btn">‚Äπ Quay l·∫°i</button>
                        <h3>Danh m·ª•c s·∫£n ph·∫©m</h3>
                    </div>
                    ${gridHTML}
                `;
            }
            
            // Function to generate sub-category list
            function createSubCategoryHTML(categoryName) {
                const subcategories = categoryData[categoryName] || [];
                let listHTML = '';
                if (subcategories.length > 0) {
                    subcategories.forEach(sub => {
                        listHTML += `<div class="mobile-subcategory-item" data-group="${categoryName}" data-type="${sub}">${sub}</div>`;
                    });
                } else {
                    listHTML = '<div>Kh√¥ng c√≥ s·∫£n ph·∫©m con.</div>';
                }

                return `
                    <div class="mobile-menu-header">
                        <button class="mobile-menu-back-btn" data-target="main-categories">‚Äπ Danh m·ª•c</button>
                        <h3>${categoryName}</h3>
                    </div>
                    <div class="mobile-subcategory-list">${listHTML}</div>
                `;
            }

            // Main click handler for the "Danh m·ª•c" button
            dropdownBtn.addEventListener('click', function(event) {
                if (window.innerWidth <= 768) {
                    event.preventDefault();
                    event.stopPropagation();
                    dropdown.classList.toggle('mobile-menu-active');
                }
            });

            // Event delegation for handling clicks inside the mobile menu
            dropdownContent.addEventListener('click', function(event) {
                if (window.innerWidth > 768) return; // Only run on mobile
                
                event.stopPropagation(); // NgƒÉn ch·∫∑n s·ª± ki·ªán click lan ra ngo√†i l√†m ƒë√≥ng menu

                const target = event.target;

                // Click on "S·∫£n ph·∫©m" to show product categories
                if (target.matches('.has-submenu')) {
                    event.preventDefault();
                    dropdownContent.innerHTML = createProductCategoryHTML();
                }

                // Click on the "Back" button
                if (target.matches('.mobile-menu-back-btn')) {
                    const backTarget = target.getAttribute('data-target');
                    if (backTarget === 'main-categories') {
                         dropdownContent.innerHTML = createProductCategoryHTML();
                    } else {
                         dropdownContent.innerHTML = originalMenuHTML;
                    }
                }

                // Click on a main product category to see sub-categories
                const categoryItem = target.closest('.mobile-category-item');
                if (categoryItem) {
                    const categoryName = categoryItem.getAttribute('data-category');
                    if (categoryName) {
                        dropdownContent.innerHTML = createSubCategoryHTML(categoryName);
                    }
                }
                
                // Clicking a subcategory item should navigate to product listing with filters
                const subCategoryItem = target.closest('.mobile-subcategory-item');
                if (subCategoryItem) {
                    const group = subCategoryItem.getAttribute('data-group') || '';
                    const type = subCategoryItem.getAttribute('data-type') || '';
                    const targetUrl = group
                        ? `san-pham.html?groups=${encodeURIComponent(group)}&types=${encodeURIComponent(type)}`
                        : `san-pham.html?types=${encodeURIComponent(type)}`;
                    dropdown.classList.remove('mobile-menu-active');
                    window.location.href = targetUrl;
                }
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function(event) {
                if (window.innerWidth <= 768) {
                    if (!dropdown.contains(event.target)) {
                        dropdown.classList.remove('mobile-menu-active');
                    }
                }
            });
            
             // Reset on resize
            window.addEventListener('resize', function() {
                dropdown.classList.remove('mobile-menu-active');
                dropdownContent.innerHTML = originalMenuHTML;
                // revert desktop hover behavior
                if (window.innerWidth > 768) {
                    dropdownContent.style.display = '';
                }
            });
        });

        // Hi·ªáu ·ª©ng xu·∫•t hi·ªán t·ª´ t·ª´ (Reveal Animation)
        function reveal() {
            var reveals = document.querySelectorAll(".reveal");
            for (var i = 0; i < reveals.length; i++) {
                var windowHeight = window.innerHeight;
                var elementTop = reveals[i].getBoundingClientRect().top;
                var elementVisible = 50;
                if (elementTop < windowHeight - elementVisible) {
                    reveals[i].classList.add("active");
                }
            }
        }
        window.addEventListener("scroll", reveal);
        // K√≠ch ho·∫°t ngay khi t·∫£i trang
        reveal();
        
        // Exhibition slideshow logic
        let currentExhibitionIndex = 0;
        let exhibitionDirection = 1;
        let exhibitionInterval;
        const exhibitionTrack = document.getElementById('exhibitionTrack');
        const exhibitionDots = document.querySelectorAll('#exhibition-section .project-dot');
        const maxExhibitionIndex = 3; // 4 slides (0-3)
        
        function updateExhibitionSlide() {
            const translateX = -(currentExhibitionIndex * 25); // 25% per slide
            exhibitionTrack.style.transform = `translateX(${translateX}%)`;
            updateExhibitionButtons();
            updateExhibitionDots();
        }
        
        function updateExhibitionDots() {
            exhibitionDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentExhibitionIndex);
            });
        }
        
        function updateExhibitionButtons() {
            const prevBtn = document.querySelector('#exhibition-section .project-prev-btn');
            const nextBtn = document.querySelector('#exhibition-section .project-next-btn');
            
            if (currentExhibitionIndex === 0 && exhibitionDirection === 1) {
                prevBtn.style.opacity = '0';
                prevBtn.style.pointerEvents = 'none';
            } else {
                prevBtn.style.opacity = '1';
                prevBtn.style.pointerEvents = 'auto';
            }
            
            if (currentExhibitionIndex === maxExhibitionIndex && exhibitionDirection === -1) {
                nextBtn.style.opacity = '0';
                nextBtn.style.pointerEvents = 'none';
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.pointerEvents = 'auto';
            }
        }
        
        function autoExhibitionSlide() {
            if (currentExhibitionIndex >= maxExhibitionIndex) {
                exhibitionDirection = -1;
            } else if (currentExhibitionIndex <= 0) {
                exhibitionDirection = 1;
            }
            currentExhibitionIndex += exhibitionDirection;
            updateExhibitionSlide();
        }
        
        function nextExhibitionSlide() { clearInterval(exhibitionInterval); if (currentExhibitionIndex < maxExhibitionIndex) { currentExhibitionIndex++; exhibitionDirection = 1; } else { exhibitionDirection = -1; currentExhibitionIndex--; } updateExhibitionSlide(); exhibitionInterval = setInterval(autoExhibitionSlide, 3000); }
        function prevExhibitionSlide() { clearInterval(exhibitionInterval); if (currentExhibitionIndex > 0) { currentExhibitionIndex--; exhibitionDirection = -1; } else { exhibitionDirection = 1; currentExhibitionIndex++; } updateExhibitionSlide(); exhibitionInterval = setInterval(autoExhibitionSlide, 3000); }
        function currentExhibitionSlide(n) { clearInterval(exhibitionInterval); currentExhibitionIndex = n - 1; exhibitionDirection = 1; updateExhibitionSlide(); exhibitionInterval = setInterval(autoExhibitionSlide, 3000); }
        
        updateExhibitionSlide();
        exhibitionInterval = setInterval(autoExhibitionSlide, 3000);

        // Project Info slideshow logic
        let currentProjectInfoIndex = 0;
        let projectInfoDirection = 1;
        let projectInfoInterval;
        const projectInfoTrack = document.getElementById('projectTrackInfo');
        const projectInfoDots = document.querySelectorAll('#projects-section-info .project-dot');
        const maxProjectInfoIndex = 3; // 4 slides
        
        function updateProjectInfoSlide() {
            const translateX = -(currentProjectInfoIndex * 25);
            projectInfoTrack.style.transform = `translateX(${translateX}%)`;
            updateProjectInfoButtons();
            updateProjectInfoDots();
        }
        
        function updateProjectInfoDots() {
            projectInfoDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentProjectInfoIndex);
            });
        }
        
        function updateProjectInfoButtons() {
            const prevBtn = document.querySelector('#projects-section-info .project-prev-btn');
            const nextBtn = document.querySelector('#projects-section-info .project-next-btn');
            
            if (currentProjectInfoIndex === 0 && projectInfoDirection === 1) {
                prevBtn.style.opacity = '0';
                prevBtn.style.pointerEvents = 'none';
            } else {
                prevBtn.style.opacity = '1';
                prevBtn.style.pointerEvents = 'auto';
            }
            
            if (currentProjectInfoIndex === maxProjectInfoIndex && projectInfoDirection === -1) {
                nextBtn.style.opacity = '0';
                nextBtn.style.pointerEvents = 'none';
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.pointerEvents = 'auto';
            }
        }
        
        function autoProjectInfoSlide() {
            if (currentProjectInfoIndex >= maxProjectInfoIndex) {
                projectInfoDirection = -1;
            } else if (currentProjectInfoIndex <= 0) {
                projectInfoDirection = 1;
            }
            currentProjectInfoIndex += projectInfoDirection;
            updateProjectInfoSlide();
        }
        
        function nextProjectInfoSlide() { clearInterval(projectInfoInterval); if (currentProjectInfoIndex < maxProjectInfoIndex) { currentProjectInfoIndex++; projectInfoDirection = 1; } else { projectInfoDirection = -1; currentProjectInfoIndex--; } updateProjectInfoSlide(); projectInfoInterval = setInterval(autoProjectInfoSlide, 3000); }
        function prevProjectInfoSlide() { clearInterval(projectInfoInterval); if (currentProjectInfoIndex > 0) { currentProjectInfoIndex--; projectInfoDirection = -1; } else { projectInfoDirection = 1; currentProjectInfoIndex++; } updateProjectInfoSlide(); projectInfoInterval = setInterval(autoProjectInfoSlide, 3000); }
        function currentProjectInfoSlide(n) { clearInterval(projectInfoInterval); currentProjectInfoIndex = n - 1; projectInfoDirection = 1; updateProjectInfoSlide(); projectInfoInterval = setInterval(autoProjectInfoSlide, 3000); }
        
        updateProjectInfoSlide();
        projectInfoInterval = setInterval(autoProjectInfoSlide, 3000);

        // Factory slideshow logic
        let currentFactoryIndex = 0;
        let factoryDirection = 1;
        let factoryInterval;
        const factoryTrack = document.getElementById('factoryTrack');
        const factoryDots = document.querySelectorAll('#factory-section .project-dot');
        const maxFactoryIndex = 2; // 3 slides
        
        function updateFactorySlide() {
            const translateX = -(currentFactoryIndex * 33.333);
            factoryTrack.style.transform = `translateX(${translateX}%)`;
            updateFactoryButtons();
            updateFactoryDots();
        }
        
        function updateFactoryDots() {
            factoryDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentFactoryIndex);
            });
        }
        
        function updateFactoryButtons() {
            const prevBtn = document.querySelector('#factory-section .project-prev-btn');
            const nextBtn = document.querySelector('#factory-section .project-next-btn');
            
            if (currentFactoryIndex === 0 && factoryDirection === 1) {
                prevBtn.style.opacity = '0';
                prevBtn.style.pointerEvents = 'none';
            } else {
                prevBtn.style.opacity = '1';
                prevBtn.style.pointerEvents = 'auto';
            }
            
            if (currentFactoryIndex === maxFactoryIndex && factoryDirection === -1) {
                nextBtn.style.opacity = '0';
                nextBtn.style.pointerEvents = 'none';
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.pointerEvents = 'auto';
            }
        }
        
        function autoFactorySlide() {
            if (currentFactoryIndex >= maxFactoryIndex) {
                factoryDirection = -1;
            } else if (currentFactoryIndex <= 0) {
                factoryDirection = 1;
            }
            currentFactoryIndex += factoryDirection;
            updateFactorySlide();
        }
        
        function nextFactorySlide() { clearInterval(factoryInterval); if (currentFactoryIndex < maxFactoryIndex) { currentFactoryIndex++; factoryDirection = 1; } else { factoryDirection = -1; currentFactoryIndex--; } updateFactorySlide(); factoryInterval = setInterval(autoFactorySlide, 3000); }
        function prevFactorySlide() { clearInterval(factoryInterval); if (currentFactoryIndex > 0) { currentFactoryIndex--; factoryDirection = -1; } else { factoryDirection = 1; currentFactoryIndex++; } updateFactorySlide(); factoryInterval = setInterval(autoFactorySlide, 3000); }
        function currentFactorySlide(n) { clearInterval(factoryInterval); currentFactoryIndex = n - 1; factoryDirection = 1; updateFactorySlide(); factoryInterval = setInterval(autoFactorySlide, 3000); }
        
        updateFactorySlide();
        factoryInterval = setInterval(autoFactorySlide, 3000);

        // --- LOGIC ƒê·ªíNG B·ªò D·ªÆ LI·ªÜU T·ª™ TRANG QU·∫¢N TR·ªä ---
        document.addEventListener('DOMContentLoaded', function() {
            initializeContentSync();
        });

        function initializeContentSync() {
            // 1. G√°n ID duy nh·∫•t (Logic ph·∫£i GI·ªêNG H·ªÜT trang qu·∫£n tr·ªã ƒë·ªÉ kh·ªõp ID)
            const images = document.querySelectorAll('header img, main img, footer img');
            images.forEach((img, index) => {
                if (!img.hasAttribute('data-uid')) {
                    img.setAttribute('data-uid', 'img-' + index);
                }
            });

            const textTags = ['h1', 'h2', 'h3', 'h4', 'h5', 'p', 'span', 'li', 'a', 'td', 'th'];
            let textIndex = 0;
            textTags.forEach(tagName => {
                document.querySelectorAll(`header ${tagName}, main ${tagName}, footer ${tagName}`).forEach(el => {
                    if (!el.hasAttribute('data-uid') && el.innerText.trim().length > 0) {
                        el.setAttribute('data-uid', 'txt-' + textIndex++);
                    }
                });
            });

            // 2. Load d·ªØ li·ªáu v√† l·∫Øng nghe thay ƒë·ªïi
            applySavedContent();
            
            // L·∫Øng nghe s·ª± ki·ªán thay ƒë·ªïi storage (khi admin c·∫≠p nh·∫≠t ·ªü tab kh√°c)
            window.addEventListener('storage', function(e) {
                if (e.key === 'siteContentThongTin') {
                    applySavedContent();
                }
            });
        }

        function applySavedContent() {
            const savedData = JSON.parse(localStorage.getItem('siteContentThongTin') || '{}');
            for (const [uid, value] of Object.entries(savedData)) {
                const element = document.querySelector(`[data-uid="${uid}"]`);
                if (element) {
                    if (uid.startsWith('img-')) {
                        element.src = value;
                    } else if (uid.startsWith('contact-')) {
                        element.href = value;
                    } else {
                        element.innerText = value;
                    }
                }
            }
        }

        // Search functionality
        function removeVietnameseTones(str) {
            if (!str) return '';
            str = str.toLowerCase();
            str = str.replace(/√†|√°|·∫°|·∫£|√£|√¢|·∫ß|·∫•|·∫≠|·∫©|·∫´|ƒÉ|·∫±|·∫Ø|·∫∑|·∫≥|·∫µ/g, 'a');
            str = str.replace(/√®|√©|·∫π|·∫ª|·∫Ω|√™|·ªÅ|·∫ø|·ªá|·ªÉ|·ªÖ/g, 'e');
            str = str.replace(/√¨|√≠|·ªã|·ªâ|ƒ©/g, 'i');
            str = str.replace(/√≤|√≥|·ªç|·ªè|√µ|√¥|·ªì|·ªë|·ªô|·ªï|·ªó|∆°|·ªù|·ªõ|·ª£|·ªü|·ª°/g, 'o');
            str = str.replace(/√π|√∫|·ª•|·ªß|≈©|∆∞|·ª´|·ª©|·ª±|·ª≠|·ªØ/g, 'u');
            str = str.replace(/·ª≥|√Ω|·ªµ|·ª∑|·ªπ/g, 'y');
            str = str.replace(/ƒë/g, 'd');
            return str;
        }

        (function initSearch() {
            const searchInput = document.querySelector('.search-input');
            const searchBtn = document.querySelector('.search-btn');
            
            if (!searchInput || !searchBtn) return;
            
            searchBtn.addEventListener('click', () => {
                const query = searchInput.value.trim();
                if (query) {
                    window.location.href = `san-pham.php?search=${encodeURIComponent(query)}`;
                }
            });
            
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const query = searchInput.value.trim();
                    if (query) {
                        window.location.href = `san-pham.php?search=${encodeURIComponent(query)}`;
                    }
                }
            });
        })();
    </script>
    <script src="search-suggestions.js"></script>
</body>
</html>
